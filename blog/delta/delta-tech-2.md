# Delta 技术解析 #2：全局法则与域内法则

Delta 设计理念的核心，在于明确划分网络的 “全局特性” 与 “域内特性”。

首先需明确，Delta 是一个由多个 “域”（domain）构成的网络，每个域均可承载一项或多项服务与应用。为实现网络的无缝运作，这些域需遵循特定标准；但另一方面，若一个网络对参与者的属性限制过于严苛，本质上会扼杀其灵活性，最终导致同质化 —— 这就好比柏林 “Berghain” 夜店的门卫，用单一标准筛选访客，反而失去了多元活力。本文将带您深入了解 Delta 所支持的计算环境。

## 一、全局与域内的核心区分

Delta 设计理念的核心，是对网络 “全局特性” 与 “域内特性” 的清晰界定。正如上一篇解析中所提及的，用户账户便是典型的 “全局特性”：这意味着 Delta 网络中，任意域的用户都能与其他用户、其他域进行访问与交互 —— 因为所有账户信息在全局范围内可查（即用户当前所在的域也能获取这些信息）。此外，数据传播、结算等网络功能也需具备 “全局属性”，毕竟这些功能承载着用户的关键信息传递。

与之相对，“执行”（execution）则属于 “域内特性”：每个域会持续收集用户交易，定期将这些交易按顺序整理成列表，执行后生成 “状态差异列表”（State Diff List，简称 SDL），并将该 SDL 提交至基础层（base layer）。

![dt2.jpeg](https://img.jask.cc/file/1758368191359_dt2.jpeg)

## 二、有效性证明（Validity Proofs）

由于交易执行在 “域内” 完成，因此仅需该域的运营者处理其用户的交易。

这种模式的安全性，依托于一类名为 “简洁非交互式知识论证”（Succinct Non-Interactive Argument of Knowledge，简称 SNARKs）的密码学证明技术。简单来说，SNARKs 包含两个核心算法：“证明者”（prover）与 “验证者”（verifier）。

- 域内的 “证明者” 会接收一组有序交易列表 ω 和一份状态差异列表 SDL，最终输出一份证明 π；

- 与 “证明者” 不同，Delta 的 “验证者” 具备全局属性 —— 它是验证节点（validators）的组成部分。验证者接收 SDL 与 π，当且仅当（在极高概率下）SDL 是通过正确执行交易列表 ω 生成时，才会返回 “有效”（true）。需特别注意：验证者无需获取交易数据 ω，即可验证其有效性。

## 三、全局法则（Global Laws）

SNARKs 能够证明单笔交易或多笔交易的有效性，但 “交易有效” 具体指什么？在 Delta 的语境中，这并非要求证明 “完整执行路径”（例如在某种零知识虚拟机 zkVM 或自定义程序中运行执行过程）。

恰恰相反，域在选择编程环境时拥有极高的灵活性：Delta 并未将所有域锁定在同一套执行模型中，而仅定义了一组 “全局法则”—— 任何域的任意交易，都需证明其符合这组法则。

这组全局法则的范围极小，且相比 “完整执行证明”，其相关证明的体量也极轻。它的唯一目的，是提供 “安全保障基准”，同时为域的上层构建保留最大灵活性。具体示例包括：

- 每笔交易必须包含有效的签名；

- 交易仅能通过 “与支出者关联的域” 完成支出；

- 交易支出金额不得超过支出者的总资产额。

此外，资产与终端用户类似，同样具备 “全局属性”，因此资产可定义更精细的规则 —— 任何域中涉及该类资产的交易，均需遵循这些规则。

全局法则的存在，使得新域能够 “无需许可” 地部署，同时避免现有域因恶意域的存在而面临风险：它从技术上杜绝了 “双花”（重复花费同一笔资产）、“任意铸币”（无限制生成代币）或 “窃取用户资产” 等行为。因此，全局法则是实现 “域间安全互操作” 所需的最低信任基础。

## 四、域内法则（Local Laws）

除了所有域都需遵循的 “最小化全局法则” 外，各域还可声明并承诺遵循 “域内法则”—— 该域必须严格遵守自己设定的这些法则。

例如，若某域希望运行 “零知识以太坊虚拟机”（zkEVM），可将对应的证明验证器添加到其 “全局可见” 的状态中：如此一来，只有当 “完整 EVM 执行证明” 返回 “有效” 时，该域的 SDL 才会被网络接受。同理，域也可添加 “自定义程序验证器”（或一组自定义程序的验证器），从而向用户保证：其交易执行会遵循公开透明的路径。

若将全局法则比作 “地基”，那么每个域都可在这一坚实基础上，用自己的 “施工技术与材料” 进行上层建设。此举的目标，是最大化每个域的 “表达能力”，并让这些设计选择成为域之间的竞争维度。对 Delta 整体而言，这等同于最大化网络的 “异质性”，为 “市场驱动型创新” 提供最大空间。

需要说明的是：严格的域内法则能为用户提供 “密码学层面强制执行的安全保障”，但有些知名企业可能更依赖自身的 “声誉” 或 “法律权限”—— 用户对此类企业的信任已足够，无需额外的密码学证明。最终，每个域是否存在 “额外的域内有效性法则”，都是完全透明的信息，终端用户不会陷入 “不知情的盲目信任”。

## 五、其他安全属性：属全局还是域内？

前文已提及，全局法则的作用是维护 Delta 的状态模型、资产体系与账户体系，从密码学层面杜绝域破坏系统的可能；而域内法则则由域自主选择，用于为用户提供特定保障。

那么，“抗审查性”（Censorship Resistance，简称 CR）属于哪类属性呢？在 Delta 中，抗审查性是 “全局特性”：域可自由设定访问门槛（例如仅允许 NFT 持有者、特定国籍用户进入，甚至凭 “主观感受” 筛选），因此用户在 “域内” 并不具备抗审查性。用户的 “全局抗审查性”，源于系统的两大核心特性：

- Delta 的全局状态允许用户 “无需当前域运营者许可”，即可在域间迁移资产。用户可将这类 “强制迁移交易” 直接提交至基础层，从而借助 “去中心化基础层” 的抗审查性实现资产迁移。这与 “Rollup 逃生舱”（rollup escape hatch）类似，但操作更流畅，且无需担心 “Layer 2 原生资产” 相关问题 —— 因为 Delta 中所有资产均与基础层绑定；

- 通过与 “去中心化、抗审查的基础层” 直接交互，域可实现 “无需许可” 的部署。

通过这种设计，Delta 在保留 “全局抗审查性” 与 “开放属性” 的同时，仍允许域以近乎任意的方式设定自身规则。

类似地，“活性”（即系统持续处理交易的能力）无法在 “域内” 得到保证，但能通过系统整体设计得以维护。