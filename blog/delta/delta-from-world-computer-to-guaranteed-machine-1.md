# 从世界计算机到担保机：第一部分

## 构建健身聚合平台

*这是关于为何我们需要域名系统的三部分系列文章的第一部分。*

- *第一部分：开发者视角下区块链并非适用工具的场景分析。*

- *第二部分：区分“计算机”与“担保机”的概念转变。*

- *第三部分：展示 “以域为载体的应用究竟是什么样”。*

假设你想开发一款实时健身数据聚合应用。一开始，你用 Python 脚本在常用的云服务商上搭建了全新的虚拟环境，随后便着手获取可穿戴设备的传感器数据 ——Oura 戒指的 API 能获取昨日的心率曲线，Garmin Connect可实时传输跑步时的运动数据，健身应用 Hevy 的 Webhook 会在好友完成一次 1RM（单次最大负重）训练时立即触发通知。你将这些数据流逐一接入异步 I/O 循环（asyncio loop），实现了事件驱动的数据处理。

仅用几分钟编码，你的应用就实现了 “实时监听” 功能 —— 它无需轮询或批量导入数据，而是像 “与传感器同步呼吸” 一样实时接收信息。应用内置了一个小型内存缓冲区，可存储最近 5000 个心跳间隔数据；每当缓冲区数据更新时，一个基础的 scikit-learn 机器学习模型就会实时估算你的最大摄氧量。若算法检测到你有过度训练的迹象，Slack 机器人会直接私信你 “建议休息一天”。与此同时，另一个协程会获取天气预报数据，为你下午的节奏跑规划一条更凉爽的路线。

你不断调试、重新部署、观察效果：设备固件更新后，你只需修复数据解析代码、执行`git push`，持续集成（CI）系统就会重启那台仅需 5 美元的VPS。各项指标（数据包丢失率、推理延迟、心率变异性直方图等）会实时流入 Prometheus 监控系统，而 Grafana 则将这些数据可视化成面板 —— 你在训练间隙就能快速查看。

### 引入：可验证的保证

几周后，你发现了一个新变化：这款应用不再只是记录运动数据，还开始承载 “权益关联” 功能 —— 比如排行榜、好友间的健身赌约、“炫耀成就” 的荣誉感，这些都是用户真正在意的内容。

经验法则：如果一个输出决定了有价值的事物，而受影响的人不能——或不愿——仅仅信任单一方，那么你就需要一个保证机器。价值可以是金钱、排名、访问权，甚至只是有权说大话而不被称作骗子。

然后你恍然大悟：如果输出结果能决定一些有价值的事情，那这件事就会变得有趣得多。

或许你可以发起一个为期一周的挑战赛，设置奖金池（或者获胜者将奖金捐给慈善机构）。这样一来，“最快 5 公里”不再仅仅是一个数字；它成了触发支付的开关。如果有人要拿走奖金，那就没人会为截图争论不休了。

于是你开始关注区块链。它们擅长提供保障：防止未经授权的状态转换，确保结果具有终局性、可审计性且防篡改。

### 能力错位

遗憾的是，你立刻意识到将应用迁移到区块链上运行是不可能的。你花几个晚上拼凑出的简单业余爱好应用，绝无可能作为智能合约在区块链上存活。原因如下：

| 能力                 | 应用的实际使用场景                                           | 区块链为何无法实现                                           |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 持续外部数据流       | 可穿戴设备每几秒就向事件循环传输一次心率数据包               | 链上代码无法打开sockets或订阅数据流，只能等待预言机（oracle）传输滞后的批量数据 |
| 事件驱动更新         | 每收到新数据包，立即更新最大摄氧量或触发 “休息提醒”—— 无需用户手动点击 | 智能合约仅在用户提交已签名的交易时才会变更状态，“实时监听并自动响应” 完全无法实现 |
| 自主副作用操作       | 一旦达到预设阈值（如过度训练），机器人会自动发送 Slack 消息、同步至 Google Fit、写入私有数据库 | 智能合约无法发送 Webhook 或调用外部 API，所有对外操作都必须在链下完成 |
| 实时随机性           | 夜间超参数搜索（hyper-parameter sweeps）通过`numpy.random.uniform`随机选择新的模型参数 | 区块链的 “确定性” 特性禁止随机数生成，即便只是简单 “掷骰子”，也需依赖昂贵的预言机 |
| 热补丁重新部署       | 修改公式后，执行`git push`，GitHub Actions 会立即重启虚拟服务器（VPS） | 升级智能合约需经过昂贵的审计、代理合约操作、社区治理流程，且需支付燃气费 —— 耗时以小时计，而非几分钟，且无免费方案 |
| 丰富本地工具链       | 用 Jupyter 笔记本、TensorBoard、实时 Python 调试器动态优化模型 | 链上 “调试” 只能在交易终局后（通常需数分钟）分析不可变日志，没有断点调试，也无法使用笔记本工具 |
| 非轻量型程序规模     | NumPy/Pandas 库、机器学习模型的体积以 MB/GB 为单位           | 链上存储与执行这类程序的成本极高，完全不具备可行性           |
| 已认证的输入数据     | 所有传感器数据都需经过验证                                   | 链上输入数据只能通过预言机提供，无法直接验证传感器源头       |
| 实时可观测性         | Prometheus 统计数据包丢失率，Grafana 实时绘制心率变异性（HRV）图表 | 需部署独立的索引器抓取链上事件，且数据必然滞后于账本实时状态 |
| 私有状态存储         | 内存环形缓冲区存储最近 5000 个心跳间隔数据，支持毫秒级推理   | 账本存储速度慢、完全公开，且每一次状态更新都需支付燃气费     |
| 文件系统与云突发操作 | 将一个月的运动数据批量导出至 S3 存储、补全分析数据、删除临时文件 —— 均为常规操作 | 智能合约无法读写文件，只能运行在 “封闭沙盒” 中，完全没有磁盘访问能力 |
| 时钟与时区灵活性     | 调用`datetime.now()`获取实时时间，将训练计划与日落时间或时差调整对齐 | 链上时间为区块时间戳（由验证者设定），与现实世界的实际时间并不完全一致 |

实际上，每次尝试将应用上链时，最终都会将大部分工作推回给链下的预言机、守护者网络以及其他链下服务提供商。

### 根本性局限

问题不在于 TPS 或区块时间，也不在于优化区块链。关键在于角色定位。计算机创造并转换状态；担保机器则阻止不良状态转换。

纵观当前区块链应用的现状，我们或许会引用克莱顿・克里斯坦森（Clayton Christensen）的名言 ——“所有革命性创新最初都像玩具”。但现实是：即便投入了数十亿美元资金与无数工时，五年后的区块链应用，依然和最初一样 “像玩具”，这显然不合常理。

更深层的现实是：**任何未针对区块链 “极端局限性” 专门设计的产品构想，本质上都不可能以 “区块链应用” 的形式实现**。要突破这一困境，我们需要的不是 “更好的区块链”，而是一种从根本上全新的技术思路 —— 这正是 “域（Domain）” 存在的意义。