# Delta 技术解析#1：概览

delta 提出了一种重新思考中心化与去中心化系统的新方式。

基于零知识证明等密码学原语、采用抗冲突可交换数据结构的状态模型，以及全新的无许可共识机制，delta 的目标不仅是提供可扩展的去中心化计算，更是要催生前所未有的应用类型。

本系列共包含八篇文章，每篇将深入探讨 Delta 网络底层技术的某个组成部分。

在这开篇之作中，我们将以宏观视角概述各项技术组件及其协同运作机制。

![dt1.jpeg](https://img.jask.cc/file/1758363992128_dt1.jpeg)

## 域与验证器

delta 由一组通过验证器集连接的域名构成。验证器维护共享状态，包括所有域名上的资产和账户。这些域组成了 delta 执行环境，绝大多数终端用户仅与域交互，而不直接接触验证器。部署域无需许可。共享状态与无需许可的结合为自托管用户提供了抗审查能力：

1. 首先，任何人都可以启动一个域，也就是说，域的创建过程免受审查限制。
2. 此外，每个域都了解完整的全局状态，因此知道任何想要迁移至该域的账户内容。

因此，任何域上的用户都可以迁移到指定域，无需当前域运营者的许可。

验证者接收由各域计算出的状态变更，在彼此间传播这些变更，并在验证相应证明后应用这些变更（后续将详述）。

## 借项与贷项

delta 设计的核心在于支出与接收，或账户贷记与借记之间的不对称性。一个账户只能由其关联的域进行借记操作，即它只能通过该域支出其资产。账户无需桥接即可切换域，甚至无需经过当前域。然而，账户可以从任何其他域接收资产。

在接收、排序并执行一系列用户交易后，域将向基础层的验证者提交这些状态变更的列表。我们称之为状态差异列表（State Diff Lists，简称 SDL），它包含三列：

- 域内借方；
- 域内积分；
- 域外积分。

SDL 在验证其相关证明后达成结算。

## 全局与域内

关于 delta 及其所有组件设计的另一个重要考量是，哪些数据和规则应该是全局的（对所有领域有效）而非局部的（在特定领域内有效）。

> 笔者将Laws译为法则

### 全局法则（Global Laws）

正如我们所看到的，账户是全局性的，这使得用户和资产能够无摩擦地在各领域间流动。此外，资产本身也是全局性的：所有领域将采用统一的 USDC 实现；从这个意义上说，资产和流动性在所有领域都是统一的。

此外，所有领域上的所有执行都需要遵守一套全局法则。如上所述，其中一条法则是，只有与特定域关联的账户才能通过该域进行支出。许多全局法则是针对特定资产的——由于资产是全局性的，它们的规则在所有域都完全相同。这些法则使得网络对用户和域都是无需许可的，同时防止潜在恶意参与者对网络造成任何损害。对于某个域提交的每一条 SDL，它还必须提供零知识证明，证明该 SDL 不与全局法则相矛盾。

## 域内法则（Local Laws）

执行是域内的，这得益于零知识证明的支持。这些证明使得单个节点能够计算出一系列有序交易（及证明）的结果（SDL），并仅将此结果发送给验证者，后者则依据相应的证明来验证结果的有效性。

全局法则的目的并非确保用户的绝对安全——这只有在证明某些确定性执行路径的有效性时才可能实现，而这将再次限制基础层支持任何执行模型的能力。由于网络仅要求执行遵循相对较少的全球法则，因此网络允许的执行模型集合几乎是无限的。

一个希望为用户提供交易执行额外保证的域，会通过（全局）声明额外的域内法则来实现，因此它必须遵守这些规则。最严格的此类规则将是证明完整的执行路径，例如 zk-EVM 或 zk-MoveVM。在这种情况下，该领域的 SDL 需要附带与域内法则相对应的额外证明，否则将无法达成结算。

### 实现多种信任模式的赋能

简而言之，全局法则的最小化允许多种信任模式并存，从完全无需信任（仅依赖密码学）到完全信任模式，其中执行节点在支配用户授权使用的资金方面不受任何限制——后一种模式更类似于传统金融（TradFi）或 Web2，法律和声誉因素构成了用户愿意使用产品的基础。值得注意的是，即便在后一种情况下，每位用户仍对自己的资产拥有保管权，并可自由迁移至其他域，因此他们的潜在损失是有限的。

## zk 结算

验证者只有在存在相应证明的情况下才能验证 SDL 的正确性。因此，除非域名在提交 SDL 的同时提交证明，否则结算和最终性将在 SDL 提交到网络后的一段时间内发生。我们尚未决定是否强制要求同时提交 SDL 和证明——这将取决于证明时间。鉴于当前延迟迅速减少的趋势，我们很可能会实施同时证明的要求。

我们将我们的结算方式称为 zk 结算，它是 delta 在全球状态机中实现异构执行环境的关键推动力。通过 zk 结算，验证者无需访问各领域的执行模型，只需验证全球法则（以及领域提供的本地法则，如有）的证明即可。

SDL 包含有关其执行交易列表时所依据状态的信息。具体来说，它们引用了自上次输出 SDL 以来，从其他域的传入 SDL 应用的所有本地状态变更（同一域的 SDL 自然按域排序）。我们记得，域的账户只能通过来自其他域的 SDL 进行贷记，因此应用这些 SDL 仅能启用在该域上原本无法进行的交易；它们不能使原本有效的交易失效。

## 共识

一旦由域提交给验证者，SDL 便会通过拜占庭可靠广播（类似于 Narwhal）在验证者集合中高效传播。随后，验证者生成一个法定人数证书，确认网络已接受该 SDL。

回顾前文，支出与接收之间存在不对称性，而这一特性意味着无需对 SDL 进行全序排列，即验证者无需就 SDL 达成经典的拜占庭共识。SDL 本身已包含所有必要的排序信息。因此，传播这些 SDL 的协议可以并行运行，无需对网络中的数据流进行序列化（即避免形成瓶颈）。简而言之，SDL 无需组织成区块，也无需经历传统共识机制。

定期地，验证者会运行一个较弱的同步协议来重新配置验证者集合，这一过程主要体现为就纪元边界点达成一致，同步即在此刻进行。由于此协议同样不涉及排序，验证者的通信开销仅为传统共识协议开销的一小部分。

基于上述原因，delta 的子协议完全无需领导者。这使得网络对恶意节点具有极强的鲁棒性，同时通过消除边缘情况大幅简化了协议。最后，从技术角度而言，delta 根本不具备共识机制——在上述任一协议中，参与者均不对任何数据进行排序，因此它们本质上不过是略微复杂的广播协议罢了。

## 展望

我们在此提供了 delta 协议的高层次介绍。接下来的几周里，我们将深入探讨该协议及其各个组成部分。

‍