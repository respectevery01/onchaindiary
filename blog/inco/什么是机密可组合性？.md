# 什么是机密可组合性？

虽然透明度是区块链的核心优势，但这也阻碍了其实现主流应用。虽然能够查看链上交易细节可以增强信任并最小化对手方风险，但许多应用场景需要将信息对公众隐藏。

实现这一目标有多种方式，从私有链到零知识证明。每种方法都有其优势和权衡。在 Inco，我们相信基于加密的方法能实现最佳平衡。作为通过机密性补充现有区块链的机密层，Inco 在保持区块链超级能力——可组合性的同时，兼具灵活性和安全性。

虽然基于承诺的方案和私有链实现了机密性，但它们牺牲了可组合性。通过 Inco，开发者可以在区块链上构建应用程序，而无需受限于必须运行证明或转移到割裂流动性的孤立链。开发者可以像在任何符合 EVM 标准的链上一样进行构建，并利用 Inco 的机密层按需保持特定链上数据的机密性。

## 什么是机密可组合性？

在加密货币领域，可组合性指的是不同协议、智能合约和去中心化应用（dApp）能够无缝交互和组合的能力，从而创造出新的应用和服务。您可以想象一个无需许可即可与去中心化交易所（DEX）集成的借贷协议，这意味着用户可以通过最小的用户体验或互操作性开销进行借贷和交易，以尝试实现收益。

但由于区块链是透明的，这种“货币乐高”方法会暴露用户在他们使用的可组合应用中所做的操作。而当他们使用机密工具时，他们牺牲了可组合性：私有链需要桥接，这可能会引入安全风险和延迟问题，并分散流动性。基于承诺的方法，如零知识证明（ZKPs），通常通过依赖固定电路、刚性约束和缺乏运行时灵活性来牺牲可组合性——这使得它们很难在不进行重大重写或预先协调的情况下与其他合约组合。

让我们通过几个用例进一步探讨机密可组合性的好处。

## 机密可组合性用例

### **机密转账**

实现机密转账一直是链上支付的主要难题之一，这源于区块链的透明特性。虽然已有 ZCash 和 Zether 等尝试让用户进行隐私转账，但这些方案都依赖零知识证明或其他基于承诺的方法来实现机密性。

Inco 通过采用加密类型实现了机密型 ERC20 代币。只需对现有代币合约进行轻微修改，就能构建完全可组合的机密代币。

这使得构建薪资系统、DAO 中的隐私支付或个人预算工具等应用成为可能——这些应用可在链上运行且不会泄露敏感数据，更不用说整个 DeFi 应用生态了——而且这些应用可与传统智能合约进行组合式构建，为相互链接提供了可能性。

更多详情，请查阅我们与 Circle Research 在机密 ERC20 方面的[合作研究](https://www.circle.com/blog/confidential-erc-20-framework-for-compliant-on-chain-privacy?ref=labyrinthprotocol.tech)。

### **私有拍卖**

虽然较新的 ZK 架构旨在提升可组合性，但它们通常仍需要定制电路或外部服务来协调私有交互，这限制了即插即用的集成能力。

Inco 让私有竞价成为智能合约的又一个应用场景。开发者只需重写拍卖合约，使其支持加密类型和方法即可。部署私有拍卖合约后，可以轻松接入现有链上市场基础设施，无需重新设计逻辑。例如，开发者可将拍卖合约集成至 NFT 市场合约中，通过合约调用实现商品拍卖功能，而不仅限于直接购买。这正是可组合隐私性的实际体现。

### **链上游戏**

需要私有状态的游戏，例如扑克，通常运行在中心化服务器上，大多数将其引入链上的尝试都使用基于零知识证明（ZK）的游戏构建工具或外部信任假设。这要么需要技术性的提交-揭示周期中断游戏玩法，要么重新引入可信的第三方中介。

Inco 使得在 Solidity 中将私有状态视为另一个变量成为可能。任何 Solidity 开发者都可以通过使用相关的加密类型和方法，编写带有私有状态的链上游戏。另一个好处是，他们无需牺牲可组合性——他们可以轻松地将另一个合约（如机密代币）集成到游戏逻辑中。

### **私有治理与机密投票**

与其他应用场景类似，机密投票同样需要可组合性，这主要基于两个关键原因。首先，可组合性通过将密码学组件（如身份验证、投票加密和计票功能）整合到单一系统中，有助于消除外部信任假设。其次，可组合性通过复用模块化、高度优化的基础元件，避免了在每个投票实例中重建或重复复杂逻辑，从而显著降低计算开销。

通过使用 Inco，可以轻松构建一个链上私密投票系统，该系统在保护投票者机密性的同时不牺牲可组合性。链上私密投票合约可以轻松集成到另一个合约中；或者另一个合约，如机密代币合约，也可以集成到投票系统中。

## 开发者体验

### **像使用 EVM 一样构建**

Inco 方法的最大优势之一在于无需改变现有的开发方式。无需学习新语言、设计复杂的零知识证明电路，也无需适应全新的基础设施。只要熟悉在 EVM 链上构建应用，就等于已经掌握了使用 Inco 进行开发的全部要领。

你编写 Solidity 代码，部署到与 EVM 兼容的网络，并使用你已熟悉的标准，如 ERC20 或 ERC721。唯一的区别是：现在你有了加密类型。你可以像使用其他变量一样使用它们，只不过它们能保持数据私密性。

真正带来优势的是可组合性。采用像 ZK 汇总或定制隐私层这类基于承诺的方法时，开发者通常需要遵循特定的结构或固定参数。这限制了灵活性并破坏了互操作性，意味着你无法轻松地将一个合约接入另一个，或在无需重大重写或增加信任假设的情况下组合新逻辑。Inco 的机密层意味着你可以使用与平常完全相同的工具来构建货币乐高式 DeFi 应用，但合约中可以包含私有类型。

使用 Inco，加密类型的行为就像原生类型一样。这意味着机密组件可以像 EVM 上的任何其他合约一样进行组合，无需重建逻辑来让组件之间相互通信。

## **立即开始构建**

可组合的机密性意味着开发者无需再在隐私与可用性之间做出取舍。借助 Inco，隐私成为工具箱中的又一利器——在适用场景中随时可取用。

上手超级简单。只需引入 Inco 库，就能开始构建以往无法实现的用例。

想了解如何使用机密构建模块进行开发？请查阅 Inco [技术文档](https://docs.inco.org/home)。