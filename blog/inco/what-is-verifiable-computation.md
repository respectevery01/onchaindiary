# 什么是可验证计算？

随着高价值隐私应用需求的增长，可验证计算正变得日益重要，其应用场景包括私有链上交易和机密 AI 模型训练。这项技术是构建隐私保护基础设施的核心组成部分。

在隐私保护领域，可验证计算指能够在无需透露计算内容的前提下，验证计算过程正确性的技术。其核心实现路径有两种：可信执行环境（TEE）和零知识证明（ZKP）。这两种方案各具优势与局限，并能通过与其他密码学技术结合增强去信任化特性。

## **可验证性的重要意义**

虽然多方计算（MPC）、全同态加密（FHE）或混淆电路（GC）等密码学技术均可实现隐私保护，但在用户无法直接控制计算过程的场景下——例如外包云计算、去中心化应用或多方系统——证明计算正确性与确保数据机密性具有同等重要性。

可验证性使用户无需依赖中央权威机构即可信任计算结果。这在以下领域尤为关键：

- 基于区块链的应用程序（确保智能合约按预期执行）。许多区块链扩容解决方案（如零知识证明汇总）利用零知识证明将交易批量处理至链下，仅向链上提交证明。这大幅降低了燃气费用，同时确保所有计算和状态转换的有效性。Starknet 和 zkSync 等项目采用这种方法，在不牺牲安全性的前提下提升以太坊的可扩展性。
- 隐私保护型金融交易。零知识证明等密码学技术可实现可验证且私密的交易。Zcash 率先通过 zk-SNARKs 实现屏蔽交易，隐藏发送方、接收方和交易金额。zk-STARKs 等最新技术突破在确保交易机密性和可审计性的同时，进一步提升了可扩展性与透明度。
- 机密人工智能模型（确保推理结果正确且不泄露数据）。机器学习模型可通过隐私保护技术在加密数据上运行。近期研究如 zkCNN 探索了如何利用零知识证明来验证神经网络推理的完整性。这确保了人工智能模型在保持模型权重和输入数据私密性的同时正确运行。此类方法对于医疗健康、金融和身份验证等敏感领域的应用至关重要。
- 安全数据共享与分析。处理敏感数据的组织——如医学研究机构或金融公司——需要在共享数据集上进行分析而不暴露原始数据。安全多方计算（MPC）和同态加密等技术允许在保持输入数据机密性的同时进行协作分析。在这些情况下确保可验证性对于维护计算结果的可信度至关重要。

## **可验证性解决方案**

在保障隐私的同时，不同方法已涌现以实现可验证性。

### **零知识证明（ZKPs）**

零知识证明（ZKPs）已成为验证计算正确性的强大工具。它能让一方在不泄露输入数据的情况下，向另一方证明计算过程的正确性。这一特性使其特别适用于隐私保护交易（如 Zcash）、二层扩容方案（如 Starknet、zkSync），甚至可验证的机器学习等领域。然而，零知识证明的计算成本可能较高，且为通用计算设计证明方案并非总是易事。

### **可信执行环境（TEEs）**

另一方面，可信执行环境（TEE）采用基于硬件的方法。英特尔 SGX 和 AMD SEV 等技术创建了隔离环境，可在其中安全地执行计算。这些解决方案提供了认证机制，能够证明特定软件二进制文件在可信执行区域内运行。然而，这种认证过程的部分环节仍需依赖对硬件供应商的信任。

#### **认证**

认证是一种机制，用于证明计算是在特定可信环境中执行的。它确保代码按预期运行且未被篡改，其安全性依赖于硬件和软件的完整性，而非密码学证明。

可信执行环境（TEE）通过隔离敏感计算来确保机密性和完整性。但若缺乏认证机制，则无法保证安全飞地未被破坏或其中运行的是预期软件。认证使 TEE 能够生成密码学证明，证实其内部加载的软件确为正确且预期的版本。因此，安全飞地产生的所有输出均可被视为可信。

远程认证进一步扩展了这一功能，允许外部方验证安全飞地的状态，在信任其输出之前检查从固件完整性到加载代码的所有内容。这在去中心化或多方环境中尤为关键，因为这些环境必须在无法直接控制执行环境的情况下建立信任。通过验证安全飞地是否运行了预期软件，远程认证确保即使是不受信任的各方也能依赖安全飞地的输出，而无需信任主机系统。

包括 Taiko、Nillion 和 Phala 在内的多个项目正在构建基于 TEE 的解决方案。

### **CO-SNARKs**

基于多方计算的协同简洁非交互式知识论证（MPC-based co-SNARKs）是一种密码学技术，它结合了安全多方计算（MPC）与简洁证明，以实现高效的计算验证。其核心思想是利用 MPC 将计算任务分配给多个参与方，确保没有任何一方能够获取完整的输入信息，同时仍能协作计算出结果。

该过程生成一个中间证明，随后将其转换为 SNARK，从而实现紧凑且非交互式的验证。与传统 SNARK 通常需要可信设置不同，基于多方计算的协同 SNARK 通过利用分布式随机数生成和安全计算技术，可以减少甚至消除这一需求。这种方法特别适用于隐私保护应用，例如在加密数据上证明声明或在去中心化环境中验证计算，其中信任最小化至关重要。

TAECO 等公司正在开发基于 Co-SNARK 的产品。

## **使全同态加密可验证**

全同态加密（FHE）的一个挑战在于可验证性。由于计算是在加密数据上进行的，如何确保计算正确完成？一些方法涉及在 FHE 之上叠加零知识证明（ZKPs）：

- [迈向可验证的全同态加密实践：利用 plonky2 证明 TFHE 引导过程的正确执行](https://eprint.iacr.org/2024/451)

- [基于格的后量子简洁非交互式知识论证的可验证全同态加密](https://eprint.iacr.org/2024/032.pdf)

目前，大多数相关研究都致力于尽可能快速地证明单次自举运算。

另一种方法是在可信执行环境（TEE）内运行全同态加密（FHE）计算，利用 TEE 的可验证计算保证来确保结果的完整性，而无需承担零知识证明（ZKP）的开销。

可验证全同态加密是一个活跃的研究领域，解决该问题有望开启具有更强正确性保证的新型隐私保护应用。

## **未来**

可验证计算领域正在迅速发展。零知识证明（ZKPs）和可信执行环境（TEEs）处于领先地位，但将这些解决方案与全同态加密（FHE）、多方计算（MPC）和门限电路（GC）以实用方式整合仍处于探索阶段。随着更多项目应对这些挑战，我们有望在不久的将来看到更优、更快、更具可扩展性的解决方案。